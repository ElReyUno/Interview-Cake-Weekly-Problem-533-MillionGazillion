# Search Engine Called MillionGazillionâ„¢

This project focuses on trim down the amount of space taken up by web pages visited by the crawler. It is implemented in JavaScript and includes unit tests using Jest.

## Objectives
- Implement an algorithm to reduce the memory usage of visited set.
  - Consider Big Order (Big O) Notation for Time Complexity.
   - Will test a Bloom Filter and storing Hashes instead of URLs.
- Write unit tests to ensure the correctness of the algorithm.

## From Interview Cake
I wrote a crawler that visits web pages, stores a few keywords in a database, and follows links to other web pages. I noticed that my crawler was wasting a lot of time visiting the same pages over and over, so I made a set, visited, where I'm storing URLs I've already visited. Now the crawler only visits a URL if it hasn't already been visited.

Thing is, the crawler is running on my old desktop computer in my parents' basement (where I totally don't live anymore), and it keeps running out of memory because visited is getting so huge.

How can I trim down the amount of space taken up by visited?

## Tools and Technologies
- JavaScript
  - Conversion to Typescript in future project
- Jest (for unit testing)
  - Jest Stare
  - Jest Reporter
- Node.js
- Node.js CI
- Babel
- Git Bash
- GitHub
- Visual Studio Code

## How to Run the Tests
npm (Node Package Manager) and yarn are both package managers for JavaScript. I will be using npm however either will suffice.

In utilizing the Test-Driven Development (TDD) software development process I will be writing the test to initially fail (red) which will pass (green) once the minimum code to pass the test is written and then the code will be refactored to improve design and structure. The cycle of "Red-Green-Refactor" is repeated for each new feature or piece of functionality.

1. Navigate to project root directory and initialize JSON Package and install Jest as a development dependency:
```Bash
npm init -y
npm install --save-dev jest
```
2. Ensure you have Node.js installed.
   - Download and install from https://nodejs.org/
   - Verify installation:
     - `node -v`
     - `npm -v`
3. Install the dependencies by running `npm install`.
4. Install Jest by running `npm install --save-dev jest`.
   - This creates package.json. Ensure this file includes a test script to run Jest.
5. Run the tests by executing `npm test` from the parent directory of the test file.

## Pretty Print Test Results
To pretty print the test results, you can use the `prettyPrintJson.js` script. This script reads the `test-results.json` which is created in `jest.config.js` after running the test then generated by Jest and outputs a formatted version to `pretty-test-results.json`.

1. Install the jest-json-reporter module:
```Bash
npm install --save-dev jest-json-reporter
```
2. Ensure you have run the tests and generated the `test-results.json` file.
3. Execute the script by running:
```Bash
npm run prettyPrintJson
```
## Conclusion
The BloomFilter implementation trims down the most amount of space taken up by visited URLs due to using a fixed-size bit array and multiple hash functions to probabilistically determine if an element is in the set, which is much more space-efficient compared to storing the entire set of visited URLs as hashes in a Set.

HashCrawler:
- Stores each visited URL as a SHA-256 hash (256 bits or 32 bytes per URL).
Memory usage grows linearly with the number of visited URLs.

BloomFilter:
- Uses a fixed-size bit array (e.g., 1000 bits).
- Uses two hash functions to set bits in the array.
- Memory usage is constant, regardless of the number of visited URLs.
- There is a small probability of false positives, but it significantly reduces memory usage.

Another options is using physical storage for the visited URLs.